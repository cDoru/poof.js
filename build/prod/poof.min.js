!function(a,b){b["true"]=a;var c,d,e,f,g=g||{},h=h||{},i=i||{},j=j||{};g.exports="undefined"==typeof b?h||{}:b,c={},c.__defineGetter__("VERSION",function(){return parseInt("0",10)}),c.__defineGetter__("REVISION",function(){return parseInt("4",10)}),c.__defineGetter__("BUILD",function(){return parseInt("7",10)}),c.__defineGetter__("VERSION_STRING",function(){return c.VERSION+"."+c.REVISION+"."+c.BUILD}),d={MAIN_CLASS_ATTRIBUTE_NAME:"data-main",CLASS_EXTENSION:".poof",ROOT:""},e=function(a){if(i.addEventListener)i.addEventListener("DOMContentLoaded",a,!1);else if(/KHTML|WebKit|iCab/i.test(j.userAgent))var b=setInterval(function(){/loaded|complete/i.test(i.readyState)&&(a(),clearInterval(b))},10);else h.onload=a},f=function(){var a,b,c,e=i.getElementsByTagName("script");for(a=0;a<e.length;++a)if(e[a].hasAttribute(d.MAIN_CLASS_ATTRIBUTE_NAME)&&(b=e[a].getAttribute(d.MAIN_CLASS_ATTRIBUTE_NAME),b.match(d.CLASS_EXTENSION+"$")))return d.ROOT=-1===b.indexOf("/")?"":b.substring(0,b.lastIndexOf("/")+1),c=y(b,function(){new c}),!0;return!1},e(function(){f()||console.warn("poof.js main class not found")}),g.exports.poof=c;var k,l,m,n,o,p=1,q=2,r=1,s=2,t=3,u=[{field:"static$",type:p},{field:"instance$",type:q}],v=[{field:"public$",type:r},{field:"protected$",type:s},{field:"private$",type:t}],w=1;k={},l={},m=function(a,b,c,d,e,f,g){if(b!==c)if(g){if(a[c]){var h=a[c];a[c]=d,d.super$=function(){return h.apply(this,arguments)}}}else a[c]=d},n=function(a,b,c,d){var e,f,g,h,i,j,k,l,n,r=c&&c.extends$?c.extends$:null;if(d.instance$&&d.instance$.public$&&d.instance$.public$[b]?(e=d.instance$.public$[b],r&&(e.super$=function(){r.apply(this,arguments)})):e=function(){},c.type$===o.SINGLETON||c.type$===(o.SINGLETON|o.FINAL)){var s;e.__defineGetter__("instance",function(){return s||(s=new e),s})}for(r&&(e.prototype=new r),l=0;l<u.length;++l)if(i=u[l],h=[],d[i.field])for(n=0;n<v.length;++n)if(j=v[n],d[i.field][j.field])for(f in d[i.field][j.field])if("override$"===f)for(g in d[i.field][j.field].override$)m(e.prototype,b,g,d[i.field][j.field][f][g],j.type,q,!0);else m(i.type===p?e:e.prototype,b,f,d[i.field][j.field][f],j.type,i.type);return k=!!(c.type$&&c.type$&o.FINAL),e.__defineGetter__("final$",function(){return k}),e.__defineGetter__("name$",function(){return b}),e.ready$=!0,e},o=function(a,b,c){return n(w++,a,b,c)},o.PUBLIC=1,o.ABSTRACT=2,o.SINGLETON=4,o.FINAL=8,g.exports.class$=o;var x=function(a,b){return[a,b]};g.exports.interface$=x;var y,z;z={resourcesByPath:{},constructorsByPath:{},importTimeoutId:-1,queue:[],dependent:[],getResourceReference:function(a){return this.resourcesByPath[a]},createReference:function(a){switch(this.guessResourceType(a)){case"class":return this.createClassReference(a);case"script":break;case"image":break;case"other":return{}}},guessResourceType:function(a){return a.match(".+"+d.CLASS_EXTENSION+"$")?"class":a.match(".+\\.js$")?"script":a.match(".+\\.[jpg|jpeg|png]$")?"image":"other"},registerDependend:function(a,b,c,d,e){var f,g=[];if(d&&d.extends$&&!d.extends$.ready$&&g.push(d.extends$),d&&d.implements$)for(f=0;f<d.implements$.length;++f)d.implements$[f].ready$||g.push(d.implements$[f]);this.dependent.push({id:a,ref:b,name:c,definition:e,pending:g})},createClassReference:function(a){return this.constructorsByPath[a]=this.createTemporaryConstructor(),function(){z.constructorsByPath[a].apply(this,arguments)}},createTemporaryConstructor:function(){return function(){throw new Error("Class not ready yet.")}},add:function(a,b,c){this.queue.push({path:a,ref:b,callback:c})},resolveUrl:function(a){return-1===a.indexOf("/")?d.ROOT+a.split(d.CLASS_EXTENSION)[0].replace(/\./g,"/")+d.CLASS_EXTENSION:a},load:function(a){switch(this.guessResourceType(a)){case"class":console.log("loading class");case"script":console.log("loading script",a);break;case"image":break;case"other":}},run:function(){var a=this;clearTimeout(this.importTimeoutId),this.importTimeoutId=setTimeout(function(){a.importNext()},1)},importNext:function(){var a,b,c=this;0!==this.queue.length&&(a=this.queue.splice(0,1)[0],b=function(){c.onImportComplete(),"function"==typeof a.callback&&a.callback()},this.load(a.path,b))},onImportComplete:function(){}},y=function(a,b){var c=z.getResourceReference(a);return c||(c=z.createReference(a),z.add(a,c,b),z.run()),c},g.exports.import$=y}({},function(){return this}());